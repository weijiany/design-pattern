观察者模式
-----------
### 概念：

定义对象间一种一对多的依赖关系，使得每当一个对象改变状态，则所有依赖于它的对象都会得到通知并被自动更新。

### 优点：

1. 观察者和被观察者之间是抽象耦合。被观察者角色所知道的只是一个具体观察者集合，每一个具体观察者都符合一个抽象观察者的接口。被观察者并不认识任何一个具体的观察者，它只知道他们都有一个共同的接口。由于被观察者和观察者没有紧密的耦合在一起，英雌他们可以属于不同抽象化层次，且都非常容易扩展。
2. 支持广播通信，被观察者会向所有登记过的观察者发出通知，这就是一个触发机制，形成一个触发连。

### 缺点：

1. 如果一个主题有多个直接或间接的观察者，则通知所有的观察者会花费很多时间，且开发和调试都比较复杂。
2. 如果在主体之间有**循环依赖**，被观察者会触发它们之间进行**循环调用**，导致系统崩溃。在使用观察者模式的时候，要特别注意这一点。
3. 如果对观察者的通知是通过另外的线程进行异步投递，系统必须保证投递的顺序执行。
4. 虽然观察者模式可以随时使观察者知道所观察的对象发生了变化，但是观察者模式没有提供相应的机制使观察者知道算观察的对象时如何发生变化的。

### 应用场景：

1. 关联行为场景。
2. 事件多级触发场景。
3. 跨系统的消息交换场景，如消息队列的处理机制。